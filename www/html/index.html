<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
<meta name="generator" content="Jekyll v3.8.6">
<title>PiVert</title>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
<!-- script src="dashboard.js"></script -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

<!-- Favicons -->
<style>
.bd-placeholder-img {
    font-size: 1.125rem;
    text-anchor: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

@media (min-width: 768px) {
    .bd-placeholder-img-lg {
        font-size: 3.5rem;
    }
}
</style>

</head>
<body data-spy="scroll">

<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="#CONTROL">
                  <span data-feather="activity"></span>
                  Contrôle 
                </a>
              </li>
            </ul>
        </div>
    </nav>

    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
	  
        <div id="CONTROL" class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Contrôle</h1>
        </div>
        <div id="ContentDetail">
Pompe à air <input id="toggle-event" type="checkbox" data-toggle="toggle">
<script>
  $(function() {
    $('#toggle-event').change(function() {
      $('#console-event').html('Toggle: ' + $(this).prop('checked'))
    })
  })
</script>
 </div> 

    </main>
</div>
</div>
<script type="text/javascript">
feather.replace();
/*
const urlParams = new URLSearchParams(window.location.search);
const jobName = urlParams.get('jobName');
const instanceId = urlParams.get('instanceId');
const jobId = urlParams.get('jobId');
const lastStart = urlParams.get('lastStart');
const lastEnd = urlParams.get('lastEnd');
const runMachine = urlParams.get('runMachine');
const jobStatus = urlParams.get('jobStatus');
$('#jobName').val(jobName);
*/

function colorStatus(response) {
    switch (response) {
            case 'FAILURE':
                    status = 'danger';
                    break;
            default:
                    status = response.toLowerCase();
    }
    return status;
}

function Diag() {
    var jobName = $('#jobName').val();
    var instanceId = $('#instanceId').val();
    var api = "http://"+window.location.hostname+"/api/v1/bundles/ats/instances/"+instanceId;

    // Detail
    $.ajax({
            url: api+"/jobs/"+jobName+"/detail.txt",
            dataType: "text",
            type: 'GET',
            jsonpCallback: 'callback',
            crossDomain: true,
            success: function(response) {
                $('#ContentDetail').html('<pre>'+response+'</pre>');
            }
    });
    
};
</script>
</body>
</html>

